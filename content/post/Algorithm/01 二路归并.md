---
title: 01 二路归并
subtitle: 

# Summary for listings and search engines
summary: 算法，二路归并

# Link this post with a project
projects: [Algorithm]

# Date published
date: "2021-09-16T00:00:00Z"

# Date updated
lastmod: "2021-09-16T00:00:00Z"

# Is this an unpublished draft?
draft: false

# Show this page in the Featured widget?
featured: false

# Featured image
# Place an image named `featured.jpg/png` in this page's folder and customize its options here.
image:
  caption: 'Image credit: [**Unsplash**](./featured.jpg)'
  focal_point: ""
  placement: 2
  preview_only: false

authors:
- penway

tags:
- 算法

categories:
- 算法
---

### Description

已知两个有序整数数组a和b，将a，b合并到数组c中，合并后的数组c仍然是一个有序数组。

### Input

输入包含4个变量，数组a的长度，数组a，数组b的长度，数组b。

### Output

输出包含1个变量，即数组c。



### 说在前面

学校的OJ题目，写出来作为记录，关键是这么简单的一道题，居然遇到了好多问题，非常难受，所以写下来作为记录。所有代码均由c++书写，当然，书写风格很有可能还是c。

### 函数传入指针

传入空指针，在函数里malloc...肯定是不可以的。

malloc 的时候越界

糟心的问题，我的malloc写成了malloc(a.length)，应该是malloc(a.length * sizeof(int))

### 逻辑问题

这么简单的题居然还真的遇到了逻辑问题。归并的思路很简单：就是先在两个数组中来回比较，选较小的进新数组，然后等到一个数组空了之后把剩下的全部都扔进去。

就在判断谁是剩下的数组的时候，我原来使用了“谁更长”这个依据，有点丢脸...

### 关于内容

用面向对象的风格固然有趣，但是该用Vector的时候还是用了指针，下次注意，尝试更加纯正的c++

### 代码

```c++
#include <iostream>

using namespace std;
using std::cin;
using std::cout;

class Array {

public:

    Array() { }

    void read() {
        cin >> length;

        fill();

        for (int i = 0; i < length; ++i) {

            cin >> array[i];
        }
    }

    void fill() {

        array = (int*)malloc(length * sizeof(int));
    }

    static Array join(Array a, Array b) {

        Array c = Array();
        c.length = a.length + b.length;
        c.fill();

        int ai, bi, ci; ai = bi = ci = 0;

        while (ai < a.length && bi < b.length) {

            if (a.array[ai] <= b.array[bi]) {

                c.array[ci] = a.array[ai];
                ++ai;
            }
            else {

                c.array[ci] = b.array[bi];
                ++bi;
            }

            ++ci;
        }

        if (b.length == bi)
            for (; ci < c.length; ++ci, ++ai)
                c.array[ci] = a.array[ai];
        else
            for (; ci < c.length; ++ci, ++bi)
                c.array[ci] = b.array[bi];

        return c;
    }

    void print() {

        int i;

        for (i = 0; i < length - 1; ++i) {

            cout << array[i] << " ";
        }

        cout << array[i];
    }

private:
    int length;
    int* array;
};


int main() {

    Array a = Array(), b = Array();

    a.read();
    b.read();

    Array c = a.join(a, b);

    c.print();
}
```




## License

Copyright 2021 王鹏维